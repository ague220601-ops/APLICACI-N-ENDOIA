
I‚Äôm building the Tutor / Validator area of my AEDE-IA app (React + Vite + TypeScript).

Context (important):
	‚Ä¢	Firebase login + roles already work.
	‚Ä¢	Tutors are users with role "tutor" or "investigador".
	‚Ä¢	The new AEDE/ESE 2025 pulpal and apical classifications are already implemented in the project (used by the IA suggestion and/or clinical form).
	‚Ä¢	You MUST reuse those existing pulpal/apical option lists.
	‚Ä¢	Do NOT invent new labels.
	‚Ä¢	Do NOT use old terms like ‚Äúirreversible pulpitis‚Äù.
	‚Ä¢	Import the same constants / enums / arrays that the IA uses (look for files like fakeIA.ts, classification, or pulpal/apical options in the clinical form components).

Back-end webhooks (DO NOT change URLs):
	‚Ä¢	Get pending cases for the tutor:
POST https://ague2206.app.n8n.cloud/webhook/tutor/pending
	‚Ä¢	Send the tutor‚Äôs labels:
POST https://ague2206.app.n8n.cloud/webhook/tutor/label

The label payload must be:

{
  "case_id": "ENDOIA-XXX",
  "AEDE_pulpar": "<pulpal label from AEDE/ESE 2025>",
  "AEDE_apical": "<apical label from AEDE/ESE 2025>",
  "token": "<tutor token for n8n>"
}

There is already a mapping email ‚Üí token in n8n (e.g. JEN_MARTIN_2025, SEGURA_2025, INVESTIGADOR_2025).
In the frontend, create a helper function to map the logged-in tutor‚Äôs email to the correct token.

‚∏ª

‚úÖ GOAL

Implement a nice, responsive Tutor panel with:
	1.	Page of pending cases
	2.	Page to validate a specific case

Tutors must only see raw clinical data.
They MUST NOT see:
	‚Ä¢	IA pulpal diagnosis
	‚Ä¢	IA apical diagnosis
	‚Ä¢	Any other human‚Äôs diagnosis or final label

Only the clinical findings.

‚∏ª

1) Pending cases page

Create / update:

src/pages/Tutor/CasosPendientes.tsx
(or the equivalent Tutor page file that already exists).

Requirements:
	1.	On mount, fetch pending cases:
	‚Ä¢	Get user.email from AuthContext.
	‚Ä¢	Map email ‚Üí token for n8n (helper like getTutorTokenFromEmail(email) defined near this page).
	‚Ä¢	POST https://ague2206.app.n8n.cloud/webhook/tutor/pending with body { token }.
	‚Ä¢	Response ‚Üí list of cases.
	2.	Show a summary header at the top with:
	‚Ä¢	Total pending cases
	‚Ä¢	Opcional: cases registered in last 7 days
	‚Ä¢	Opcional: cases with notes (just as extra info)
Use 2‚Äì3 small statistic cards, clean design.
	3.	Below, show a responsive list / table:
Desktop:
	‚Ä¢	Table with columns:
	‚Ä¢	case_id
	‚Ä¢	tooth (FDI)
	‚Ä¢	fecha (if available)
	‚Ä¢	bot√≥n ‚ÄúValidar‚Äù
Mobile:
	‚Ä¢	Each case as a card with the same info and a ‚ÄúValidar‚Äù button.
	4.	‚ÄúValidar‚Äù button must navigate to:
/tutor/validar/:case_id
and pass the full case object via router state, so the validate page has access to all clinical data without re-fetching.

‚∏ª

2) Validate case page

Create / update:

src/pages/Tutor/ValidarCaso.tsx

Route: /tutor/validar/:case_id

Requirements:
	1.	Get:
	‚Ä¢	case_id from route params
	‚Ä¢	Case data from router state (if not present, you may redirect back or show an error)
	2.	Display only clinical data, in a clean layout (2-column grid where possible):
Examples of fields to show (use the real keys from the case object):
	‚Ä¢	tooth_fdi
	‚Ä¢	spontaneous_pain_yesno
	‚Ä¢	thermal_cold_response
	‚Ä¢	lingering_pain_seconds
	‚Ä¢	depth_of_caries
	‚Ä¢	percussion_pain_yesno
	‚Ä¢	radiolucency_yesno
	‚Ä¢	periapical_index_PAI_1_5
	‚Ä¢	bleeding_control_possible
	‚Ä¢	probing_max_depth_mm
	‚Ä¢	sinus_tract / tracto_sinusal (if exists)
	‚Ä¢	systemic_signs (if exists)
	‚Ä¢	previous_treatment (if exists)
	‚Ä¢	notes
	‚Ä¢	date
Style: card with sections ‚ÄúDatos del diente‚Äù, ‚ÄúS√≠ntomas‚Äù, ‚ÄúRadiograf√≠a‚Äù, ‚ÄúOtros hallazgos‚Äù.
	3.	Under the clinical data, add a ‚ÄúDiagn√≥stico AEDE/ESE 2025‚Äù section with:
	‚Ä¢	One dropdown for pulpal diagnosis
	‚Ä¢	One dropdown for apical diagnosis
üî¥ VERY IMPORTANT:
Import the options from the existing classification module used by the IA, e.g.:

import { PULPAL_STATES, APICAL_STATES } from "../lib/classification"; 

Or whatever file currently holds the AEDE/ESE 2025 labels.
Do not hardcode ‚Äúreversible/irreversible pulpitis‚Äù or any outdated terms.
Use the exact arrays/enums already defined in the project.
Format the dropdown with nice labels (the label or name field from those constants).

	4.	Validation button:
	‚Ä¢	Button: ‚ÄúEnviar validaci√≥n‚Äù
	‚Ä¢	Disabled until both pulpal + apical are selected.
	‚Ä¢	On click:
	‚Ä¢	Get tutor token via getTutorTokenFromEmail(user.email)
	‚Ä¢	POST to /webhook/tutor/label with:

{
  case_id,
  AEDE_pulpar: selectedPulparValue,
  AEDE_apical: selectedApicalValue,
  token
}


	‚Ä¢	On success:
	‚Ä¢	Show success message (‚ÄúValidaci√≥n registrada correctamente‚Äù)
	‚Ä¢	Navigate back to /tutor and refresh the pending list.

	5.	UI:
	‚Ä¢	Responsive (works on mobile and desktop)
	‚Ä¢	Use clear section titles, dividers, and spacing
	‚Ä¢	The ‚ÄúDiagn√≥stico AEDE/ESE‚Äù section should visually destacar (box, border, or background)

‚∏ª

3) Routing

Ensure routing (in routes file) includes:

<Route
  path="/tutor"
  element={
    <ProtectedRoute allow={['tutor','investigador']}>
      <CasosPendientes />
    </ProtectedRoute>
  }
/>

<Route
  path="/tutor/validar/:case_id"
  element={
    <ProtectedRoute allow={['tutor','investigador']}>
      <ValidarCaso />
    </ProtectedRoute>
  }
/>

Do not change auth or roles logic, just plug into it.
